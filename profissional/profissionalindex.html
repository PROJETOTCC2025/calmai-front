<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <title>Calma A√≠</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <header>
    <h1>CALMA A√ç</h1><br>
    <img src="https://png.pngtree.com/png-clipart/20190516/original/pngtree-users-vector-icon-png-image_3725294.jpg"
      alt="Foto do Psic√≥logo" class="profile">
    <h2>Dr. Pedro Lima üëã</h2>
  </header>

  <main>



    <div class="section">
      <div class="section-title">Agenda Mensal</div>

      <!-- Cabe√ßalho com os dias da semana -->
      <div class="calendar-header">
        <div>Dom</div>
        <div>Seg</div>
        <div>Ter</div>
        <div>Qua</div>
        <div>Qui</div>
        <div>Sex</div>
        <div>Sab</div>
      </div>

      <!-- Calend√°rio dos dias -->
      <div class="calendar" id="calendar">
        <!-- Dias do m√™s ser√£o gerados aqui via JS -->
      </div>

      <p class="no-selection" id="selected-day">Nenhum dia selecionado</p>
    </div>

    <div class="section">
      <div class="section-title">Pr√≥ximas Sess√µes</div>
      <div class="session">07/11 - 14h com Cassia</div>
      <div class="session">07/11 - 16h com Renata</div>
    </div>

    <div class="section">
      <div class="section-title">Hist√≥rico</div>
      <div class="session">06/11 - Sess√£o conclu√≠da</div>
      <div class="session">06/11 - Sess√£o conclu√≠da</div>
    </div>

    <div class="section">
      <div class="section-title">Novos Clientes</div>

      <div class="cliente">Joana Silva</div>
      <div class="action-buttons">
        <button class="btn-aceitar">Aceitar</button>
        <button class="btn-recusar">Recusar</button>
      </div>

      <div class="cliente">Lucas Andrade</div>
      <div class="action-buttons">
        <button class="btn-aceitar">Aceitar</button>
        <button class="btn-recusar">Recusar</button>
      </div>
    </div>

    <div class="section">
      <div class="section-title">Clientes Planos</div>
      <div class="session">Mariana Costa - Unimed</div>
      <div class="session">Ricardo Souza - InterBlu</div>
    </div>

    <!-- Clientes Particulares -->
<div class="section">
  <div class="section-title">Clientes Particulares</div>

  <div class="plan" onclick="toggleCliente('basic')">Basic</div>
  <div class="cliente-nome" id="basic" style="display: none;">Cassia</div>

  <div class="plan" onclick="toggleCliente('premium')">Premium</div>
  <div class="cliente-nome" id="premium" style="display: none;">Joana Silva</div>

  <div class="plan" onclick="toggleCliente('plus')">Plus</div>
  <div class="cliente-nome" id="plus" style="display: none;">Renata</div>

  <div class="plan" onclick="toggleCliente('free')">Free</div>
  <div class="cliente-nome" id="free" style="display: none;">Lucas Andrade</div>
</div>


    <!-- Fale com seus pacientes -->
<div class="section">
  <div class="section-title">Fale com seus pacientes</div>

  <!-- Joana -->
  <div class="chat-box" data-nome="Joana Silva">
    <div class="chat-name">Joana Silva</div>
    <div class="chat-messages"></div>
    <div class="chat-input">
      <input type="text" placeholder="Escreva uma mensagem..." />
      <button onclick="enviarMensagem(this)">Enviar</button>
    </div>
  </div>

  <!-- Lucas -->
  <div class="chat-box" data-nome="Lucas Andrade">
    <div class="chat-name">Lucas Andrade</div>
    <div class="chat-messages"></div>
    <div class="chat-input">
      <input type="text" placeholder="Escreva uma mensagem..." />
      <button onclick="enviarMensagem(this)">Enviar</button>
    </div>
  </div>

  <!-- Mariana -->
  <div class="chat-box" data-nome="Mariana Costa">
    <div class="chat-name">Mariana Costa</div>
    <div class="chat-messages"></div>
    <div class="chat-input">
      <input type="text" placeholder="Escreva uma mensagem..." />
      <button onclick="enviarMensagem(this)">Enviar</button>
    </div>
  </div>

  <!-- Ricardo -->
  <div class="chat-box" data-nome="Ricardo Souza">
    <div class="chat-name">Ricardo Souza</div>
    <div class="chat-messages"></div>
    <div class="chat-input">
      <input type="text" placeholder="Escreva uma mensagem..." />
      <button onclick="enviarMensagem(this)">Enviar</button>
    </div>
  </div>
</div>


  </main>

  <script>
    const calendar = document.getElementById('calendar');
    const selectedDay = document.getElementById('selected-day');

    const sessoesPorDia = {
      7: "14h com Cassia, 16h com Renata",
      10: "13h com Jo√£o",
      15: "09h com Camila",
      21: "17h com Tiago",
      30: "08h com Fernanda"
    };

    const primeiroDiaSemana = 6; // s√°bado
    const totalDiasMes = 30;

    for (let i = 0; i < primeiroDiaSemana; i++) {
      const empty = document.createElement('div');
      calendar.appendChild(empty);
    }

    for (let i = 1; i <= totalDiasMes; i++) {
      const day = document.createElement('div');
      day.classList.add('day');
      day.textContent = i;

      day.addEventListener('click', () => {
        let texto = Dia selecionado: ${i < 10 ? '0' + i : i}/11;
        texto += sessoesPorDia[i] ? ` ‚Äî Sess√µes: ${sessoesPorDia[i]}` : ` ‚Äî Nenhuma sess√£o marcada.`;
        selectedDay.textContent = texto;
      });

      calendar.appendChild(day);
    }
  </script>

  <script>
    const aceitarBtns = document.querySelectorAll('.btn-aceitar');
    const recusarBtns = document.querySelectorAll('.btn-recusar');

    aceitarBtns.forEach((btn) => {
      btn.addEventListener('click', () => {
        const nomeCliente = btn.closest('.action-buttons').previousElementSibling.textContent.trim();
        alert(Cliente ${nomeCliente} aceito com sucesso!);
        removerCliente(btn);
      });
    });

    recusarBtns.forEach((btn) => {
      btn.addEventListener('click', () => {
        const nomeCliente = btn.closest('.action-buttons').previousElementSibling.textContent.trim();
        alert(Cliente ${nomeCliente} recusado.);
        removerCliente(btn);
      });
    });

    function removerCliente(button) {
      const clienteDiv = button.closest('.action-buttons').previousElementSibling;
      const actionDiv = button.closest('.action-buttons');

      if (clienteDiv && actionDiv) {
        clienteDiv.remove();
        actionDiv.remove();
      }
    }
  </script>

  <script>
  function toggleCliente(planId) {
    const div = document.getElementById(planId);
    if (div.style.display === "none" || div.style.display === "") {
      div.style.display = "block";
    } else {
      div.style.display = "none";
    }
  }

  
  function enviarMensagem(button) {
    const input = button.previousElementSibling;
    const mensagem = input.value.trim();

    if (mensagem === "") return;

    const chatBox = button.closest(".chat-box");
    const nomePaciente = chatBox.dataset.nome;
    const messagesContainer = chatBox.querySelector(".chat-messages");

    // Cria a mensagem do psic√≥logo
    const minhaMensagem = document.createElement("div");
    minhaMensagem.classList.add("chat-message");
    minhaMensagem.textContent = mensagem;
    minhaMensagem.style.alignSelf = "flex-end";
    minhaMensagem.style.backgroundColor = "#d9f1df"; // verde claro

    messagesContainer.appendChild(minhaMensagem);
    input.value = "";
    messagesContainer.scrollTop = messagesContainer.scrollHeight;

    // Simula resposta do paciente ap√≥s 2 segundos
    setTimeout(() => {
      const resposta = gerarRespostaAutomatica(nomePaciente);

      const respostaMsg = document.createElement("div");
      respostaMsg.classList.add("chat-message");
      respostaMsg.textContent = resposta;
      respostaMsg.style.alignSelf = "flex-start";
      respostaMsg.style.backgroundColor = "#f0f0f0";
      respostaMsg.style.color = "#444";

      messagesContainer.appendChild(respostaMsg);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }, 2000);
  }

  function gerarRespostaAutomatica(nome) {
    const respostas = {
      "Joana Silva": [
        "Ol√°! Estou bem, e voc√™?",
        "Obrigada pela mensagem, doutor.",
        "Podemos conversar mais tarde?"
      ],
      "Lucas Andrade": [
        "Oi, tudo certo por aqui!",
        "Preciso remarcar minha sess√£o.",
        "Obrigado pelo contato."
      ],
      "Mariana Costa": [
        "Oi doutor, tudo √≥timo!",
        "Gostaria de mudar meu plano.",
        "Estou ansiosa pela pr√≥xima sess√£o!"
      ],
      "Ricardo Souza": [
        "Boa tarde!",
        "Tudo indo bem, obrigado!",
        "A sess√£o de ontem foi excelente."
      ]
    };

    const mensagens = respostas[nome] || ["Ol√°!"];
    const indice = Math.floor(Math.random() * mensagens.length);
    return mensagens[indice];
  }


</script>


</body>

</html>




