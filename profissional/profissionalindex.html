<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Calma A√≠</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>CALMA A√ç</h1>
    <img src="https://png.pngtree.com/png-clipart/20190516/original/pngtree-users-vector-icon-png-image_3725294.jpg" alt="Foto do Psic√≥logo" class="profile" />
    <h2>Dr. Pedro Lima üëã</h2>
  </header>

  <main>
    <!-- CALEND√ÅRIO -->
    <div class="section">
      <div class="section-title">Agenda Mensal</div>

      <div class="calendar-header">
        <div>Dom</div><div>Seg</div><div>Ter</div><div>Qua</div><div>Qui</div><div>Sex</div><div>Sab</div>
      </div>

      <div class="calendar" id="calendar"></div>
      <p class="no-selection" id="selected-day">Nenhum dia selecionado</p>
    </div>

    <!-- PR√ìXIMAS SESS√ïES -->
    <div class="section">
      <div class="section-title">Pr√≥ximas Sess√µes</div>
      <div class="session">07/11 - 14h com Cassia Starling</div>
      <div class="session">07/11 - 16h com Renata Brunner</div>
    </div>

    <!-- HIST√ìRICO DE SESS√ïES -->
    <div class="section">
      <div class="section-title">Hist√≥rico</div>
      <div class="session">06/11 - Sess√£o conclu√≠da com Marcelo Oliveira</div>
      <div class="session">06/11 - Sess√£o conclu√≠da com Maria Luiza P.</div>
    </div>

    <!-- NOVOS CLIENTES -->
    <div class="section">
      <div class="section-title">Novos Clientes</div>
      <table class="clientes-tabela">
        <tr>
          <th>Nome</th>
          <th>A√ß√µes</th>
        </tr>
        <tr>
          <td>Joana Silva</td>
          <td>
            <button class="btn-aceitar">Aceitar</button>
            <button class="btn-recusar">Recusar</button>
          </td>
        </tr>
        <tr>
          <td>Lucas Andrade</td>
          <td>
            <button class="btn-aceitar">Aceitar</button>
            <button class="btn-recusar">Recusar</button>
          </td>
        </tr>
        <tr>
          <td>Mariana Costa</td>
          <td>
            <button class="btn-aceitar">Aceitar</button>
            <button class="btn-recusar">Recusar</button>
          </td>
        </tr>
        <tr>
          <td>Ricardo Souza</td>
          <td>
            <button class="btn-aceitar">Aceitar</button>
            <button class="btn-recusar">Recusar</button>
          </td>
        </tr>
      </table>
    </div>

    <!-- FALE COM SEUS PACIENTES -->
    <div class="section">
      <div class="section-title">Fale com seus pacientes</div>
      <table class="clientes-tabela">
        <tr>
          <th>Nome</th>
          <th>Mensagem</th>
        </tr>
        <tr>
          <td>Cassia Starling</td>
          <td>
            <input type="text" placeholder="Escreva uma mensagem..." />
            <button onclick="enviarMensagem(this)">Enviar</button>
          </td>
        </tr>
        <tr>
          <td>Lucas Pereira</td>
          <td>
            <input type="text" placeholder="Escreva uma mensagem..." />
            <button onclick="enviarMensagem(this)">Enviar</button>
          </td>
        </tr>
        <tr>
          <td>Renata Brunner</td>
          <td>
            <input type="text" placeholder="Escreva uma mensagem..." />
            <button onclick="enviarMensagem(this)">Enviar</button>
          </td>
        </tr>
        <tr>
          <td>Rodrigo Tadra</td>
          <td>
            <input type="text" placeholder="Escreva uma mensagem..." />
            <button onclick="enviarMensagem(this)">Enviar</button>
          </td>
        </tr>
      </table>
    </div>
  </main>

  <script>
    // CALEND√ÅRIO
    const calendar = document.getElementById('calendar');
    const selectedDay = document.getElementById('selected-day');

    const sessoesPorDia = {
      7: "14h com Cassia, 16h com Renata"
    };

    const totalDiasMes = 30;
    const primeiroDiaSemana = new Date(2025, 10, 1).getDay(); // Novembro (m√™s 10)

    for (let i = 0; i < primeiroDiaSemana; i++) {
      const empty = document.createElement('div');
      calendar.appendChild(empty);
    }

    for (let i = 1; i <= totalDiasMes; i++) {
      const day = document.createElement('div');
      day.classList.add('day');
      day.textContent = i;

      day.addEventListener('click', () => {
        let texto = `Dia selecionado: ${i < 10 ? '0' + i : i}/11`;
        texto += sessoesPorDia[i] ? ` ‚Äî Sess√µes: ${sessoesPorDia[i]}` : ` ‚Äî Nenhuma sess√£o agendada.`;
        selectedDay.textContent = texto;
      });

      calendar.appendChild(day);
    }

    // BOT√ïES ACEITAR / RECUSAR
    const aceitarBtns = document.querySelectorAll('.btn-aceitar');
    const recusarBtns = document.querySelectorAll('.btn-recusar');

    aceitarBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const nome = btn.closest('tr').children[0].textContent;
        alert(`Cliente ${nome} aceito com sucesso!`);
      });
    });

    recusarBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const nome = btn.closest('tr').children[0].textContent;
        alert(`Cliente ${nome} recusado.`);
      });
    });

    // MENSAGEM PARA PACIENTE
    function enviarMensagem(button) {
      const input = button.previousElementSibling;
      const mensagem = input.value.trim();
      const nomePaciente = button.closest('tr').children[0].textContent;

      if (mensagem === "") return;

      alert(`Mensagem enviada para ${nomePaciente}: \"${mensagem}\"`);
      input.value = "";
    }
  </script>
</body>
</html>
